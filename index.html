<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade Calculator</title>
    <style>
        body {
            background-color: salmon;
            font-family: Verdana;
        }
        h1 {
            text-align: left;
            color: blue;
        }
        form {
            border: 2px solid black;
            padding: 20px;
            width: 300px;
            margin: 0 auto;
        }
        label {
            font-size: 20px;
            padding: 10px;
        }
        input {
            height: 36px;
            width: 100%;
            margin-bottom: 10px;
        }
        button {
            font-size: 20px;
            padding: 10px;
            width: 100%;
            background-color: lightblue;
            border: none;
            cursor: pointer;
        }
        p.result {
            font-size: 24px;
            text-align: center;
            color: green;
        }
    </style>
    <!-- Include PyScript -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body>
    <h1>Ryan Canano</h1>
    <form id="gradeForm">
        <h2>Grade Calculator</h2>
        <label for="prelim">Enter the prelim grade:</label>
        <input type="number" id="prelim" name="prelim" step="0.01" min="0" required>
        <button type="button" id="calculateBtn">Calculate</button>
    </form>

    <p id="result" class="result"></p>

    <py-script>
        from pyscript import Element

        def calculate_grade(event):
            prelim = float(Element("prelim").value)
            passing_grade = 75
            prelimpercent = 0.20
            midtermpercent = 0.30
            finalpercent = 0.50

            # Calculate the required final grades
            current_total = prelim * prelimpercent
            required_total = passing_grade - current_total
            midfinalaverage = midtermpercent + finalpercent
            required_passing_grade = required_total / midfinalaverage

            result_text = f"To pass, you need a {required_passing_grade:.2f}% average in midterms and finals."
            Element("result").write(result_text)

        # Attach the event listener to the button
        Element("calculateBtn").element.onclick = calculate_grade
    </py-script>
</body>
</html>
